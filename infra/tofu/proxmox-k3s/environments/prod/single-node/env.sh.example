#!/bin/bash
# Environment variables for prod single-node deployment
# Copy this file to env.sh and fill in your actual values
# Usage: source env.sh

# Terraform state backend
export TF_STATE_CONN_STR="postgres://USER:PASSWORD@192.168.68.120:5432/tofu_state?sslmode=disable"

# Proxmox configuration
export PROXMOX_ENDPOINT="https://proxmox3.jimmylab.duckdns.org/api2/json"
export PROXMOX_USERNAME="root@pam!tofu"
export PROXMOX_PASSWORD="YOUR_PROXMOX_PASSWORD"
export PROXMOX_NODE="n100r"
export PROXMOX_TLS_INSECURE="true"
export PROXMOX_TIMEOUT="300"

# SSH configuration
export SSH_PUBLIC_KEY="$(cat ~/.ssh/id_ed25519.pub)"  # Or your key path
export SSH_USERNAME="jimmy"
export SSH_PRIVATE_KEY_PATH="~/.ssh/home_server"

# Network configuration
export NETWORK_GATEWAY="192.168.68.1"
export NETWORK_NAMESERVER="8.8.8.8"
export NETWORK_NAMESERVER_2="1.1.1.1"
export NETWORK_DOMAIN="local"
export NETWORK_INTERFACE="eth0"

# K3s configuration (required for prod)
export K3S_VERSION="v1.28.2+k3s1"
export K3S_TOKEN="YOUR_K3S_TOKEN"  # Generate with: openssl rand -hex 32
export K3S_INSTALL_EXEC="--disable=traefik --disable=servicelb"

echo "Environment variables loaded for prod/single-node"
